$(function(){function i(){if($("#Attachments").length!==1)f();else{const n=new Modal("Attachments is already added to the page");n.invokeModalWindow()}}function r(){if($("div.attachment-group").length===1)$("div.attachment-group").last().parent().slideUp(n,function(){$(this).remove()});else{const n=new Modal("Attachments is not included to the page");n.invokeModalWindow()}}function u(){const n=this.files[0];var t=new ContentUploader(n).uploadContent(e);if(t)$("div.upload-group .file-choosen").text("Now using: "+n.name);else{const n=new Modal("Loaded file must be .txt or .html format!");n.invokeModalWindow()}}function t(){const t=[];for(let n of this.files)t.push(n.name);let n=t.join(", ");n.length>15&&(n=n.substring(0,15)+"...");$(this).siblings(".file-choosen").text(n.length>0?n:"<unknown file>")}function f(){const i=$(`<div class="form-section">
                                   <h3 class="form-section-label">Attachments</h3>
                                    <div class="form-group attachment-group">
                                        <label class="upload-button" for="Attachments">
                                            Upload attachments
                                        </label>
                                        <p class="file-choosen">File is not choosen</p>
                                        <input hidden="" multiple="" type="file"
                                            data-val="true" data-val-required="The Attachments field is required."
                                            id="Attachments" name="Attachments">
                                    </div>
                               </div>`);i.slideUp(function(){$(".buttons-section").before(i)});i.find("#Attachments").change(t);i.slideDown(n)}function e(n){$("#Content").val(n)}const n=150;$("#RemoveAttachmentButton").click(r);$("#AddAttachmentButton").click(i);$("#Attachments").change(t);$("#UploadContent").change(u)});